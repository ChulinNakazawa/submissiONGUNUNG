#!/usr/bin/perl

use 5.010;
#use strict;
#no strict 'refs';
use warnings;
my $gg = '123';
my($class, $signature, %typedef, %include);
my $content = join '', <>;
$class = $1 if $content =~ /Class:\s+(\S+)/;
$signature = $1 if $content =~ /Method signature:\s+(\S[^\)]+\))/;
die if !defined($class) || !defined($signature);

$signature =~ s/vector <int>/int[]/;
$signature =~ s/vector <double>/double[]/;
$signature =~ s/vector <long long>/long[]/;
$signature =~ s/vector <string>/string[]/;
$signature =~ s/long long/long/;

my %transform1 = ('long' => 'll', 'String' => 'string');
while (my ($c,$d) = each %transform1) {
    if ($signature =~ s/(^|(?<!\w))$c/$d/g) {
	$typedef{'typedef long long ll;'} = 1 if $c eq 'long';
	$include{'#include <string>'} = 1 if $c eq 'String';
    }
}

my %transform2 = ('int' => 'vi', 'll' => 'vll', 'double' => 'vd', 'string' => 'vs');
while (my ($c,$d) = each %transform2) {
    if ($signature =~ s/$c\[\]/$d/g) {
	$include{'#include <vector>'} = 1;
	$typedef{'typedef vector<int> vi;'} = 1 if $c eq 'int';
	$typedef{'typedef vector<ll> vll;'} = 1 if $c eq 'll';
	$typedef{'typedef vector<double> vd;'} = 1 if $c eq 'double';
	$typedef{'typedef vector<string> vs;'} = 1 if $c eq 'string';
    }
}

my $include = join "\n", sort(keys %include);
my $typedef = join("\n", sort(keys %typedef));
$typedef .= "\n" if $typedef;

print "$include
using namespace std;
$typedef
class $class {
public:
  $signature {
    
  }
};

#include <iostream>

int main()
{
";

$signature =~ /([\w<>]+) (\w+)\((.*)\)/;
local(%in